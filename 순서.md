만든 폴더로 가서

git clone [git@github.com](mailto:git@github.com):ruotianluo/ImageCaptioning.pytorch.git

python -m pip install -e .

data.zip 옮기고

cider, coco-caption 폴더 지우고

git clone [git@github.com](mailto:git@github.com):ruotianluo/cider.git

git clone [git@github.com](mailto:git@github.com):ruotianluo/coco-caption.git

data.zip을 data 폴더에 옮겨서 unzip하기

pip install lmdbdict

conda install h5py

conda install pytorch torchvision torchaudio cudatoolkit=11 -c pytorch

conda install scikit-image

python scripts/prepro_labels.py --input_json data/dataset_coco.json --output_json data/cocotalk.json --output_h5 data/cocotalk\

mkdir data/bu_data

cd data/bu_data

wget [https://imagecaption.blob.core.windows.net/imagecaption/trainval.zip](https://imagecaption.blob.core.windows.net/imagecaption/trainval.zip)

unzip trainval.zip

python scripts/make_bu_data.py --output_dir data/cocobu

- 학습하기전에

conda install tensorboard

pip install pycocotools
pip install pycocoevalcap

- transformer 설치하기

conda install yacs
pip install transformers
pip install git+https://github.com/ruotianluo/meshed-memory-transformer.git

pip install gensim

coco-caption 폴더에서 이거하자

1. bash get_stanford_models.sh
2. SPICE will try to create a cache of parsed sentences in ./pycocoevalcap/spice/cache/. This dramatically speeds up repeated evaluations. The cache directory can be moved by setting 'CACHE_DIR' in ./pycocoevalcap/spice. In the same file, caching can be turned off by removing the '-cache' argument to 'spice_cmd'. -> 이건 뭔소린지 잘 모르겟다 안해도됨!!!!!
3. bash get_google_word2vec_model.sh

/tools/train -> print문 지우기

## spice 부분 지운거 어딘지

captioning/utils/eval_utils.py 고쳤고
coco-caption/pycocoevalcap/eval.py 고쳤음

## [train.py](http://train.py/) 파일 고칠때 !!!!!

time_list 저장하는 부분에서 자기 폴더 경로로 바꾸고
ImageCaptioning.pytorch 폴더안에 time_list 폴더 만들어 두기 !!

## [train.py](http://train.py/) 실행코드

python tools/train.py --cfg configs/transformer/transformer.yml --id tf

병렬화

## train-HALP

tools/train-HALP.py 추가해주세요
경로 알아서 바꾸세요

## captioning/utils/torchhalp

captioning 안에 utils 안에 torchhalp 폴더 추가해주세요

## [eval.py](http://eval.py/)

python tools/eval.py --model log_tf_f8k_
base_batch30_epoch30/model-best.pth --infos_path log_tf_f8k_base_batch30_epoch30/infos_tf_f8k_base_batch30_epoch30.pkl --image_folder image_test --num_images 11
